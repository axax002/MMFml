# MMFml
MMFml - A tool for injecting shell code into and executing from the Windows system memory map.

# History
******************************************************************************************************************************
This project was born from the chain of three different research projects over the course of ~3 years.  The original goal was 
to find a way to trick mofcomp.exe into accepting content the memory map (MMF) in a effort to recompile the MOF without first adding content to disk.  Maybe it worked, maybe it didn't, we'll never tell! ;)

# Purpose
******************************************************************************************************************************
The goal was to create a method for inserting either x86 or x64 (depending on your target architecture) shell into MMF (heap)
and gain a pointer back to the starting position of the opcode.  From there we direct CPU execution back to the target address 
allowing for the execution of the code living within MMF.

# Warning
******************************************************************************************************************************
This code is rough, like gluing rocks to cardboard and calling it sand paper.  If you see something you can do better more
power to you my man.  Were happy to merge updates from other sources.

# Using MMFml
******************************************************************************************************************************
The C#.NET source is a PoC that we built as the first PoC.  As it stands it will launch calc.exe by making a command call
to calc.exe via cmd.exe.  The shell is x64 and was generated by utilizing the following msfvenom command:

  msfvenom -p windows/x64/exec CMD="cmd.exe -c calc.exe" -f csharp
  
The powershell module utilizes a chunk of HarmJ0y's Get-DelagateType (thanks so very much).  The shell does the same thing as 
the .NET portion of the project however is capable of launching more complex programs such as a meterpreter session, empire 
payload, etc.

Please add your own shell prior to using if you want it to execute.

# License
******************************************************************************************************************************
The MMFml project and all individual components are under the BSD 3-Clause license unless explicitly noted otherwise.
